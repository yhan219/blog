<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>SoftEther使用命令行搭建VPN服务器 - yhan219</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="yhan219的个人博客"><meta name="msapplication-TileImage" content="https://coding-net-production-static-ci.codehub.cn/a79d1f0e-bb39-4be8-afc5-99302615f944.jpg?imageMogr2/auto-orient/format/jpeg/cut/800x800x0x0"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="yhan219的个人博客"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="网上大部分都是介绍使用Management客户端配置SoftEther,本文介绍使用SoftEther命令行搭建VPN服务器的过程。"><meta property="og:type" content="blog"><meta property="og:title" content="SoftEther使用命令行搭建VPN服务器"><meta property="og:url" content="https://blog.yhan219.com/soft-ether-vpn/"><meta property="og:site_name" content="yhan219"><meta property="og:description" content="网上大部分都是介绍使用Management客户端配置SoftEther,本文介绍使用SoftEther命令行搭建VPN服务器的过程。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://blog.yhan219.com/img/og_image.png"><meta property="article:published_time" content="2021-01-22T03:55:43.000Z"><meta property="article:modified_time" content="2021-01-22T03:55:43.000Z"><meta property="article:author" content="yhan219"><meta property="article:tag" content="VPN"><meta property="article:tag" content="vpncmd"><meta property="article:tag" content="vps"><meta property="article:tag" content="命令行"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.yhan219.com/soft-ether-vpn/"},"headline":"yhan219","image":["https://blog.yhan219.com/img/og_image.png"],"datePublished":"2021-01-22T03:55:43.000Z","dateModified":"2021-01-22T03:55:43.000Z","author":{"@type":"Person","name":"yhan219"},"description":"网上大部分都是介绍使用Management客户端配置SoftEther,本文介绍使用SoftEther命令行搭建VPN服务器的过程。"}</script><link rel="canonical" href="https://blog.yhan219.com/soft-ether-vpn/"><link rel="icon" href="https://coding-net-production-static-ci.codehub.cn/a79d1f0e-bb39-4be8-afc5-99302615f944.jpg?imageMogr2/auto-orient/format/jpeg/cut/800x800x0x0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/qtcreator_dark.css"><link rel="stylesheet"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?16cea3704e5dd91460340a2925dca9e9";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://coding-net-production-static-ci.codehub.cn/a79d1f0e-bb39-4be8-afc5-99302615f944.jpg?imageMogr2/auto-orient/format/jpeg/cut/800x800x0x0" alt="yhan219" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="yhan219" href="https://github.com/yhan219"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 level is-mobile"><div class="level-left"><div class="article-date level-item"><i class="fa fa-calendar"></i><span>2021-01-22</span></div><span class="level-item"><time dateTime="2021-01-22T03:55:43.000Z" title="2021-01-22T03:55:43.000Z">2021-01-22</time>发表</span><span class="level-item"> <i class="fa fa-user"></i> yhan219 </span><span class="level-item"><i class="fa fa-folder"></i><a class="link-muted" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="level-item">33 分钟读完 (大约4962个字)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">SoftEther使用命令行搭建VPN服务器</h1><div class="content"><hr>
<p>网上大部分都是介绍使用Management客户端配置<code>SoftEther</code>,本文介绍使用<code>SoftEther</code>命令行搭建VPN服务器的过程。<br><escape><a id="more"></a></escape></p>
<h2 id="下载与安装"><a href="#下载与安装" class="headerlink" title="下载与安装"></a>下载与安装</h2><p>从<a target="_blank" rel="noopener" href="https://github.com/SoftEtherVPN/SoftEtherVPN_Stable/releases">GitHub Release</a>或<a target="_blank" rel="noopener" href="http://softether.fishinfo.cn/cn.aspx">下载中心</a>，根据系统类型及实际情况选择<strong>稳定非beta的rtm</strong>版server安装包，例如centos选择 <a target="_blank" rel="noopener" href="https://github.com/SoftEtherVPN/SoftEtherVPN_Stable/releases/download/v4.29-9680-rtm/softether-vpnserver-v4.29-9680-rtm-2019.02.28-linux-x64-64bit.tar.gz">VPNserver</a>,复制下载链接，下载到<code>/usr/local/src</code>目录</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">cd</span> /usr/local/src</span><br><span class="line"><span class="attribute">wget</span> https://github.com/SoftEtherVPN/SoftEtherVPN_Stable/releases/download/v<span class="number">4</span>.<span class="number">38</span>-<span class="number">9760</span>-rtm/softether-vpnserver-v<span class="number">4</span>.<span class="number">38</span>-<span class="number">9760</span>-rtm-<span class="number">2021</span>.<span class="number">08</span>.<span class="number">17</span>-linux-x<span class="number">64</span>-<span class="number">64</span>bit.tar.gz</span><br><span class="line"><span class="attribute">tar</span> -zxvf softether-vpnserver-v<span class="number">4</span>.<span class="number">38</span>-<span class="number">9760</span>-rtm-<span class="number">2021</span>.<span class="number">08</span>.<span class="number">17</span>-linux-x<span class="number">64</span>-<span class="number">64</span>bit.tar.gz</span><br><span class="line"><span class="attribute">cd</span> vpnserver</span><br><span class="line"><span class="attribute">make</span></span><br></pre></td></tr></table></figure>
<p>安装过程中，按照提示输入<code>1</code>即可。</p>
<p>通常来说，会自己选择语言，如果需要修改，则修改<code>lang.config</code>文件即可。</p>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>执行<code>./vpnserver start</code>让VPN Server在后台运行.</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./vpnserver <span class="literal">start</span></span><br></pre></td></tr></table></figure>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>经测试，MacOS的Management配置客户端不能打开，所以改为以命令行配置：</p>
<h3 id="进入命令行配置界面"><a href="#进入命令行配置界面" class="headerlink" title="进入命令行配置界面"></a>进入命令行配置界面</h3><p>执行<code>./vpncmd</code> SoftEther VPN命令行配置SoftEther VPN Server.</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">./vpncmd</span></span><br></pre></td></tr></table></figure>
<p>提示如下：</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">通过使用 vpncmd 程序，可以取得以下成果。</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> VPN <span class="built_in">Server</span> 或 VPN <span class="built_in">Bridge</span> 的管理。</span><br><span class="line"><span class="number">2.</span> VPN <span class="built_in">Client</span> 的管理。</span><br><span class="line"><span class="number">3.</span> 使用 VPN 工具 (证书创建和网络传输速度测试工具)</span><br><span class="line"></span><br><span class="line">选择 <span class="number">1</span>, <span class="number">2</span> 或 <span class="number">3</span>:</span><br></pre></td></tr></table></figure>
<p>输入<strong>1</strong>回车即可，继续提示</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">指定的主机名或目标 VPN<span class="built_in"> Server </span>或 VPN<span class="built_in"> Bridge </span>正在 运行的计算机<span class="built_in"> IP </span>地址。</span><br><span class="line">通过以 <span class="string">&quot;主机名:端口号&quot;</span> 格式指定，您还可以指定端口号。</span><br><span class="line">(当没有指定端口号时，使用 443。)</span><br><span class="line">如果不输入任何内容并按下回车键，将连接到端口号为 443 的本地主机 (这台电脑)。</span><br><span class="line">目标<span class="built_in"> IP </span>地址的主机名:</span><br></pre></td></tr></table></figure>
<p>输入<code>localhost:5555</code>。</p>
<p>回车</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">如果通过虚拟 HUB 管理模式连接到服务器，请输入虚拟 HUB 的名称。</span><br><span class="line">如果通过服务器管理模式连接，无须输入任何内容请按回车键。</span><br><span class="line">指定虚拟 HUB 名称:</span><br></pre></td></tr></table></figure>
<p>根据提示，可根据实际情况输入。一般直接回车，进入管理员控制台界面：</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">与服务器 <span class="string">&quot;localhost&quot;</span> 的连接已建立 (端口 <span class="number">5555</span>)。</span><br><span class="line"></span><br><span class="line">您有整个 VPN <span class="built_in">Server</span> 的管理员权限。</span><br><span class="line"></span><br><span class="line">VPN <span class="built_in">Server</span>&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>首次进入直接回车即可。设置hub后这里输入hub名和密码可直接进入hub内，或直接回车进入管理员。</p>
</blockquote>
<h3 id="设置管理服务端登录密码"><a href="#设置管理服务端登录密码" class="headerlink" title="设置管理服务端登录密码"></a>设置管理服务端登录密码</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ServerPasswordSet</span></span><br></pre></td></tr></table></figure>
<p>输入密码即可</p>
<p>输入<code>help</code>可以查看全部命令。</p>
<blockquote>
<p>所有命令不区分大小写</p>
</blockquote>
<h3 id="创建hub"><a href="#创建hub" class="headerlink" title="创建hub"></a>创建hub</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">HubCreate</span></span><br></pre></td></tr></table></figure>
<p>输入hub名称及密码，例如<code>devops-hub</code></p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">VPN Server&gt;HubCreate</span><br><span class="line">HubCreate 命令 - 创建新的虚拟 HUB</span><br><span class="line">新创建的虚拟 HUB 的名字: devops-hub</span><br><span class="line"></span><br><span class="line">请输入密码。要取消，请按下 Ctrl + D 键。</span><br><span class="line"></span><br><span class="line">密码    : <span class="strong">*****</span><span class="strong">*****</span>*</span><br><span class="line">确认输入: <span class="strong">*****</span><span class="strong">*****</span>*</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>


<h3 id="选择hub"><a href="#选择hub" class="headerlink" title="选择hub"></a>选择hub</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Hub devops-hub</span></span><br></pre></td></tr></table></figure>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">VPN <span class="built_in">Server</span>&gt;Hub devops-hub</span><br><span class="line">Hub 命令 - 选择拟管理的虚拟 HUB</span><br><span class="line">选择虚拟 HUB <span class="string">&quot;devops-hub&quot;</span>。</span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<h3 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">UserCreate</span></span><br></pre></td></tr></table></figure>
<p>例如创建用户<code>yhan219</code></p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">VPN Server/devops-hub&gt;UserCreate</span><br><span class="line">UserCreate 命令 - 创建用户</span><br><span class="line"><span class="section">用户名: yhan219</span></span><br><span class="line"></span><br><span class="line"><span class="section">加入群组名称: </span></span><br><span class="line"></span><br><span class="line"><span class="section">用户全名: yhan219</span></span><br><span class="line"></span><br><span class="line"><span class="section">用户描述: yhan219</span></span><br><span class="line"></span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<h3 id="设置用户密码"><a href="#设置用户密码" class="headerlink" title="设置用户密码"></a>设置用户密码</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">UserPasswordSet</span> 用户名</span><br></pre></td></tr></table></figure>
<p>例如：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">VPN Server/devops-hub&gt;UserPasswordSet yhan219</span><br><span class="line">UserPasswordSet 命令 - 将用户身份验证方法设置为密码验证，并设定密码</span><br><span class="line">请输入密码。要取消，请按下 Ctrl + D 键。</span><br><span class="line"></span><br><span class="line">密码    : ***</span><br><span class="line">确认输入: ***</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<h3 id="启用L2TP服务器功能"><a href="#启用L2TP服务器功能" class="headerlink" title="启用L2TP服务器功能"></a>启用L2TP服务器功能</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">IPsecEnable</span></span><br></pre></td></tr></table></figure>
<p>如下：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">VPN Server&gt;IPsecEnable</span><br><span class="line">IPsecEnable 命令 - 启用或禁用<span class="built_in"> IPsec </span>VPN<span class="built_in"> Server </span>功能</span><br><span class="line">启用 L2TP over<span class="built_in"> IPsec </span>服务器功能(<span class="literal">yes</span> / <span class="literal">no</span>): <span class="literal">yes</span></span><br><span class="line"></span><br><span class="line">启用原始 L2TP 服务器功能(<span class="literal">yes</span> / <span class="literal">no</span>): <span class="literal">no</span></span><br><span class="line"></span><br><span class="line">启用 EtherIP / L2TPv3 over IPsec服务器功能(<span class="literal">yes</span> / <span class="literal">no</span>): <span class="literal">no</span></span><br><span class="line"></span><br><span class="line">IPsec 的预共享密钥(推荐：最多 9 位)devops</span><br><span class="line"></span><br><span class="line">为避免在用户名中遗漏 HUB，请默认虚拟 HUB 。devops-hub</span><br><span class="line"></span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<p>如果忘了共享秘钥，可通过命令查看，如下：</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">VPN Server&gt;IpSecGet</span><br><span class="line">IPsecGet 命令 - 获得当前IPsec VPN Server 设置</span><br><span class="line">项目                                        |价值</span><br><span class="line">--------------------------------------------+----------</span><br><span class="line">L2TP over IPsec 服务器功能已启用            |是</span><br><span class="line">原始 L2TP 服务器功能已启用                  | 否</span><br><span class="line">EtherIP / L2TPv3 over IPsec 服务器功能已启用|否</span><br><span class="line">IPsec 预共享密钥字符串                      |devops</span><br><span class="line">默认虚拟 HUB 名                             |devops-hub</span><br></pre></td></tr></table></figure>
<h3 id="启用虚拟-NAT-和-DHCP-服务器功能-安全网络功能，可选，不建议开启"><a href="#启用虚拟-NAT-和-DHCP-服务器功能-安全网络功能，可选，不建议开启" class="headerlink" title="启用虚拟 NAT 和 DHCP 服务器功能 (安全网络功能，可选，不建议开启)"></a>启用虚拟 NAT 和 DHCP 服务器功能 (安全网络功能，可选，不建议开启)</h3><p>开启后会导致ping服务器<code>(DUP!)</code></p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">SecureNatEnable</span></span><br></pre></td></tr></table></figure>
<h3 id="启动安全网络功能的虚拟-DHCP-服务器功能"><a href="#启动安全网络功能的虚拟-DHCP-服务器功能" class="headerlink" title="启动安全网络功能的虚拟 DHCP 服务器功能"></a>启动安全网络功能的虚拟 DHCP 服务器功能</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">DhcpEnable</span></span><br></pre></td></tr></table></figure>
<h3 id="删除无用TCP监听端口"><a href="#删除无用TCP监听端口" class="headerlink" title="删除无用TCP监听端口"></a>删除无用TCP监听端口</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ListenerList</span></span><br></pre></td></tr></table></figure>
<p>除了<code>5555</code>端口其他都删除</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ListenerDelete</span></span><br></pre></td></tr></table></figure>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">VPN</span> Server&gt;ListenerDelete</span><br><span class="line"><span class="attribute">ListenerDelete</span> 命令 - 删除 TCP 监听器</span><br><span class="line"><span class="attribute">TCP</span>/IP 侦听器端口号: <span class="number">443</span></span><br></pre></td></tr></table></figure>
<h3 id="删除默认hub（可选）"><a href="#删除默认hub（可选）" class="headerlink" title="删除默认hub（可选）"></a>删除默认hub（可选）</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">HubList</span></span><br></pre></td></tr></table></figure>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">VPN Server&gt;hublist</span><br><span class="line">HubList 命令 - 获取一个虚拟 HUB 列表</span><br><span class="line">项目        <span class="string">|价值</span></span><br><span class="line">------------+-------------------</span><br><span class="line">虚拟 HUB 名 <span class="string">|DEFAULT</span></span><br><span class="line">状态        <span class="string">|在线</span></span><br><span class="line">类型        <span class="string">|独立</span></span><br><span class="line">用户        <span class="string">|0</span></span><br><span class="line">组          <span class="string">|0</span></span><br><span class="line">会话        <span class="string">|0</span></span><br><span class="line">MAC 表      <span class="string">|0</span></span><br><span class="line">IP 表       <span class="string">|0</span></span><br><span class="line">登录次数    <span class="string">|0</span></span><br><span class="line">最后登录时间<span class="string">|2021-01-26 15:02:42</span></span><br><span class="line">最后通信时间<span class="string">|2021-01-26 15:02:42</span></span><br><span class="line">传输字节    <span class="string">|0</span></span><br><span class="line">传输数据包  <span class="string">|0</span></span><br><span class="line">------------+-------------------</span><br><span class="line">虚拟 HUB 名 <span class="string">|devops-hub</span></span><br><span class="line">状态        <span class="string">|在线</span></span><br><span class="line">类型        <span class="string">|独立</span></span><br><span class="line">用户        <span class="string">|1</span></span><br><span class="line">组          <span class="string">|0</span></span><br><span class="line">会话        <span class="string">|1</span></span><br><span class="line">MAC 表      <span class="string">|1</span></span><br><span class="line">IP 表       <span class="string">|1</span></span><br><span class="line">登录次数    <span class="string">|0</span></span><br><span class="line">最后登录时间<span class="string">|2021-01-27 12:44:21</span></span><br><span class="line">最后通信时间<span class="string">|2021-01-27 12:51:02</span></span><br><span class="line">传输字节    <span class="string">|12,192</span></span><br><span class="line">传输数据包  <span class="string">|236</span></span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">VPN <span class="built_in">Server</span>&gt;HubDelete <span class="literal">DEFAULT</span></span><br><span class="line">HubDelete 命令 - 删除虚拟 HUB</span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<h3 id="修改网段（可选）"><a href="#修改网段（可选）" class="headerlink" title="修改网段（可选）"></a>修改网段（可选）</h3><p>如果发生IP冲突，可选择修改网段：</p>
<h4 id="查看当前虚拟DHCP配置"><a href="#查看当前虚拟DHCP配置" class="headerlink" title="查看当前虚拟DHCP配置"></a>查看当前虚拟DHCP配置</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">DhcpGet</span></span><br></pre></td></tr></table></figure>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">VPN Server/devops-hub&gt;DhcpGet</span><br><span class="line">DhcpGet 命令 - 获得安全网络功能的虚拟 DHCP 服务器功能的设置</span><br><span class="line">项目                     <span class="string">|价值</span></span><br><span class="line">-------------------------+--------------</span><br><span class="line">使用虚拟 DHCP 功能       <span class="string">|是</span></span><br><span class="line">分发地址范围的开始       <span class="string">|192.168.30.10</span></span><br><span class="line">分发地址范围的结束       <span class="string">|192.168.30.200</span></span><br><span class="line">子网掩码                 <span class="string">|255.255.255.0</span></span><br><span class="line">租赁期限 (秒)            <span class="string">|7200</span></span><br><span class="line">默认网关地址             <span class="string">|192.168.30.1</span></span><br><span class="line">DNS 服务器地址 <span class="number">1</span>         <span class="string">|192.168.30.1</span></span><br><span class="line">DNS 服务器地址 <span class="number">2</span>         <span class="string">|无</span></span><br><span class="line">域名                     <span class="string">|</span></span><br><span class="line">保存 NAT 和 DHCP 操作日志<span class="string">|是</span></span><br><span class="line">静态路由表推送           <span class="string">|</span></span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<h4 id="修改虚拟DHCP"><a href="#修改虚拟DHCP" class="headerlink" title="修改虚拟DHCP"></a>修改虚拟DHCP</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">DhcpSet</span></span><br></pre></td></tr></table></figure>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">VPN</span> Server/devops-hub&gt;DhcpSet</span><br><span class="line">DhcpSet 命令 - 更改安全网络功能的虚拟 DHCP 服务器功能的设置</span><br><span class="line">分发地址范围的开始: <span class="number">192.168.29.10</span></span><br><span class="line"></span><br><span class="line">分发地址范围的结束: <span class="number">192.168.29.200</span></span><br><span class="line"></span><br><span class="line">子网掩码: <span class="number">255.255.255.0</span></span><br><span class="line"></span><br><span class="line">租赁期限 (补): <span class="number">7200</span></span><br><span class="line"></span><br><span class="line">默认网关 (可以不设定): <span class="number">192.168.29.1</span></span><br><span class="line"></span><br><span class="line">DNS 服务器 <span class="number">1</span> (可以不设定): <span class="number">192.168.29.1</span></span><br><span class="line"></span><br><span class="line">DNS 服务器 <span class="number">2</span> (可以不设定):</span><br><span class="line"></span><br><span class="line">域名:</span><br><span class="line"></span><br><span class="line">保存日志 (yes/no): <span class="literal">yes</span></span><br><span class="line"></span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<blockquote>
<p>所有<code>192.168.30</code>修改为<code>192.168.29</code>，其他不变。</p>
</blockquote>
<h4 id="查看SecureNatHost配置"><a href="#查看SecureNatHost配置" class="headerlink" title="查看SecureNatHost配置"></a>查看SecureNatHost配置</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">SecureNatHostGet</span></span><br></pre></td></tr></table></figure>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">VPN Server/devops-hub&gt;SecureNatHostGet</span><br><span class="line">SecureNatHostGet 命令 - 获取安全网络功能的虚拟主机的网络接口设置</span><br><span class="line">项目    |价值</span><br><span class="line">--------+-----------------</span><br><span class="line">MAC 地址|5A-5A-5B-56-5F-59</span><br><span class="line">IP 地址 |192.168.30.1</span><br><span class="line">子网掩码|255.255.255.0</span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<h4 id="修改SecureNatHost"><a href="#修改SecureNatHost" class="headerlink" title="修改SecureNatHost"></a>修改SecureNatHost</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">SecureNatHostSet</span></span><br></pre></td></tr></table></figure>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">VPN Server/devops-hub&gt;SecureNatHostSet</span><br><span class="line">SecureNatHostSet 命令 - 更改安全网络功能的虚拟主机的网络接口设置</span><br><span class="line">MAC 地址: 5A-5A-<span class="number">5B-56</span>-5F-<span class="number">59</span></span><br><span class="line"></span><br><span class="line">IP 地址: <span class="number">192.168</span><span class="number">.29</span><span class="number">.1</span></span><br><span class="line"></span><br><span class="line">子网掩码: <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<blockquote>
<p>IP地址修改为上面的网关，其他不变</p>
</blockquote>
<h3 id="保存配置"><a href="#保存配置" class="headerlink" title="保存配置"></a>保存配置</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Flush</span></span><br></pre></td></tr></table></figure>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">VPN <span class="built_in">Server</span>/devops-hub&gt;Flush</span><br><span class="line">Flush 命令 - 保存 VPN <span class="built_in">Server</span> / <span class="built_in">Bridge</span> 全部不稳定数据到配置文件。</span><br><span class="line">从内存到磁盘写入不稳定数据...</span><br><span class="line">保存成功。文件大小是 <span class="number">15</span>,<span class="number">654</span> 字节。</span><br><span class="line">命令成功完成。</span><br></pre></td></tr></table></figure>
<h3 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Reboot</span></span><br></pre></td></tr></table></figure>


<h3 id="开放外网端口"><a href="#开放外网端口" class="headerlink" title="开放外网端口"></a>开放外网端口</h3><p>需要在云服务器安全组或服务器开放<code>500</code>和<code>4500</code>端口，协议为<strong>UDP</strong></p>
<p>另外，如果需要用外网Management客户端配置，需要云服务器安全组规则中开放端口<code>5555</code>，协议为<strong>TCP</strong>。为了安全一般在配置完成后需要关闭，需要使用的时候，先连接VPN并用内网IP配置Management。</p>
<blockquote>
<p>其他一些命令，例如用户有效期，删除用户，删除群组等，可根据help命令提示参考使用</p>
</blockquote>
<h2 id="客户端连接"><a href="#客户端连接" class="headerlink" title="客户端连接"></a>客户端连接</h2><p>对于win10，Mac，安卓等操作系统，无需下载客户端，用操作系统自带的VPN连接即可。其他操作系统或想使用客户端的，也可以自到<a target="_blank" rel="noopener" href="https://www.softether-download.com/cn.aspx?product=softether">下载链接</a>中根据实际情况选择适合自己的操作系统下载。</p>
<p>以MacOS连接为例。</p>
<ul>
<li>系统偏好设置–网络–左下角加号<code>+</code>新增</li>
<li>接口选择<code>VPN</code>，vpn类型选择<code>L2TP/IPSec</code>，服务名称随意填写。</li>
<li>服务器地址填写VPN服务器公网ip，用户名填写刚才新增的用户名(yhan219)</li>
<li>点击<code>认证设置</code>填写用户名密码和L2TP共享秘钥，连接即可。</li>
<li>在<code>高级设置</code>中勾选<code>通过VPN发送所有流量</code>。</li>
<li>应用–确认—连接即可。</li>
</ul>
<blockquote>
<p>在macOS上，如果能连接但是不能访问内网，查看下是否是服务器内网ip和本地内网ip的网段是相同，如果相同则会出现这个问题，修改任意一个的网段即可。</p>
</blockquote>
<h2 id="最后附上所有命令列表"><a href="#最后附上所有命令列表" class="headerlink" title="最后附上所有命令列表"></a>最后附上所有命令列表</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">help</span></span><br></pre></td></tr></table></figure>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line">您可以使用下面的 205 命令:</span><br><span class="line"> About                      - 显示版本信息</span><br><span class="line"> AcAdd                      - 添加规则到<span class="built_in"> IP </span>地址限制列表(IPv4)</span><br><span class="line"> AcAdd6                     - 添加规则到源<span class="built_in"> IP </span>地址访问限制列表(IPv6)</span><br><span class="line"> AcDel                      - 源<span class="built_in"> IP </span>地址限制列表内的删除规则</span><br><span class="line"> AcList                     - 获取源<span class="built_in"> IP </span>地址访问限制列表的规则项目列表</span><br><span class="line"> AccessAdd                  - 添加规则到允许访问列表 (IPv4)</span><br><span class="line"> AccessAdd6                 - 添加访问列表规则 (IPv6)</span><br><span class="line"> AccessAddEx                - 添加扩展访问列表规则 (IPv4：延迟、时基误差/数据包丢失产生)</span><br><span class="line"> AccessAddEx6               - 添加扩展访问列表规则 (IPv6，生成延迟，时基误差/数据包丢失)</span><br><span class="line"> AccessDelete               - 从访问列表中删除规则</span><br><span class="line"> AccessDisable              - 禁用访问列表规则</span><br><span class="line"> AccessEnable               - 启用访问列表规则功能</span><br><span class="line"> AccessList                 - 获取访问列表规则</span><br><span class="line"> AdminOptionList            - 获取虚拟 HUB 管理选项列表</span><br><span class="line"> AdminOptionSet             - 设置虚拟 HUB 管理选项的价值</span><br><span class="line"> BridgeCreate               - 创建本地的网桥连接</span><br><span class="line"> BridgeDelete               - 删除本地网桥连接</span><br><span class="line"> BridgeDeviceList           - 获取可以在当地的网桥上使用的<span class="built_in"> LAN </span>卡一览</span><br><span class="line"> BridgeList                 - 获得当地网桥连接列表</span><br><span class="line"> CAAdd                      - 添加可以信任的机构颁发的证书</span><br><span class="line"> CADelete                   - 删除可以信任的机构颁发的证书</span><br><span class="line"> CAGet                      - 获得可信任机构颁发的证书。</span><br><span class="line"> CAList                     - 获取可以信任的机构颁发证书的列表</span><br><span class="line"> Caps                       - 获得服务器的功能性能一览表</span><br><span class="line"> CascadeAnonymousSet        - 将级联连接的用户认证类型设置为匿名身份验证</span><br><span class="line"> CascadeCertGet             - 获取级联连接所需的客户端证书</span><br><span class="line"> CascadeCertSet             - 将级联连接时所需的用户验证设置为客户证书验证</span><br><span class="line"> CascadeCompressDisable     - 级联通信是数据禁止压缩功能</span><br><span class="line"> CascadeCompressEnable      - 启用级联通信是数据压缩功能</span><br><span class="line"> CascadeCreate              - 创建一个新的级联接续</span><br><span class="line"> CascadeDelete              - 删除级联连接</span><br><span class="line"> CascadeDetailSet           - 级联通信的高级设置</span><br><span class="line"> CascadeEncryptDisable      - 级联连接通信时，禁用加密</span><br><span class="line"> CascadeEncryptEnable       - 启用级联通信时加密</span><br><span class="line"> CascadeGet                 - 获取级联连接的设置</span><br><span class="line"> CascadeList                - 获取级联接续列表</span><br><span class="line"> CascadeOffline             - 将级联设置为脱机状态</span><br><span class="line"> CascadeOnline              - 设置级联接续的在线状态</span><br><span class="line"> CascadePasswordSet         - 将级联连接时所需的用户验证设置为密码验证</span><br><span class="line"> CascadePolicySet           - 设置级联连接的安全协议</span><br><span class="line"> CascadeProxyHttp           - 将级联连接方法设定为通过 HTTP 代理服务器</span><br><span class="line"> CascadeProxyNone           - 将级联的连接方法设置为直接与 TCP<span class="built_in">/IP </span>连接</span><br><span class="line"> CascadeProxySocks          - 将级联连接方法设定为通过<span class="built_in"> SOCKS </span>代理服务器</span><br><span class="line"> CascadeRename              - 更改级联的名称</span><br><span class="line"> CascadeServerCertDelete    - 删除级联服务器固有的证书</span><br><span class="line"> CascadeServerCertDisable   - 禁用级联服务器证书验证选项</span><br><span class="line"> CascadeServerCertEnable    - 启用级联服务器证书验证选项</span><br><span class="line"> CascadeServerCertGet       - 获取级联连接服务器的固有证书</span><br><span class="line"> CascadeServerCertSet       - 设置级联连接的服务器特定证书</span><br><span class="line"> CascadeSet                 - 对级联连接方的设定</span><br><span class="line"> CascadeStatusGet           - 获取级联的当前状态</span><br><span class="line"> CascadeUsernameSet         - 设置级联连接的用户名</span><br><span class="line"> Check                      - 检测 SoftEther VPN 是否能正常运行</span><br><span class="line"> ClusterConnectionStatusGet - 获得群集控制器的连接状态的信息</span><br><span class="line"> ClusterMemberCertGet       - 获得群集成员证书</span><br><span class="line"> ClusterMemberInfoGet       - 会员信息的获取</span><br><span class="line"> ClusterMemberList          - 获得群集成员名单</span><br><span class="line"> ClusterSettingController   - 设置 VPN<span class="built_in"> Server </span>类型为群集控制器</span><br><span class="line"> ClusterSettingGet          - 获取当前 VPN<span class="built_in"> Server </span>群集配置</span><br><span class="line"> ClusterSettingMember       - VPN<span class="built_in"> Server </span>类型设置为群集成员</span><br><span class="line"> ClusterSettingStandalone   - 设置为独立的 VPN<span class="built_in"> Server </span>类型</span><br><span class="line"> ConfigGet                  - 获取 VPN<span class="built_in"> Server </span>当前系统配置</span><br><span class="line"> ConfigSet                  - 往 VPN<span class="built_in"> Server </span>上写入系统配置内容</span><br><span class="line"> ConnectionDisconnect       - 断开 VPN<span class="built_in"> Server </span>和 TCP 的连接</span><br><span class="line"> ConnectionGet              - 获取连接到 VPN<span class="built_in"> Server </span>的 TCP 信息一览表</span><br><span class="line"> ConnectionList             - 获取与 VPN<span class="built_in"> Server </span>相连的 TCP 连接一览</span><br><span class="line"> Crash                      - 出现一个错误的 VPN<span class="built_in"> Server </span>/<span class="built_in"> Bridge </span>强行终止该进程。</span><br><span class="line"> CrlAdd                     - 添加无效的证书</span><br><span class="line"> CrlDel                     - 删除无效的证书</span><br><span class="line"> CrlGet                     - 获取无效的证书</span><br><span class="line"> CrlList                    - 获取无效证书名单列表</span><br><span class="line"> <span class="builtin-name">Debug</span>                      - 执行调试命令</span><br><span class="line"> DhcpDisable                - 禁用安全网络功能的虚拟 DHCP 服务器功能</span><br><span class="line"> DhcpEnable                 - 启动安全网络功能的虚拟 DHCP 服务器功能</span><br><span class="line"> DhcpGet                    - 获得安全网络功能的虚拟 DHCP 服务器功能的设置</span><br><span class="line"> DhcpSet                    - 更改安全网络功能的虚拟 DHCP 服务器功能的设置</span><br><span class="line"> DhcpTable                  - 获取安全网络功能的虚拟 DHCP 服务器租约表格</span><br><span class="line"> DynamicDnsGetStatus        - 显示动态<span class="built_in"> DNS </span>功能的当前状态</span><br><span class="line"> DynamicDnsSetHostname      - 设置动态<span class="built_in"> DNS </span>主机名</span><br><span class="line"> EtherIpClientAdd           - 添加新的 EtherIP / L2TPv3 over<span class="built_in"> IPsec </span>客户端设置来接受 EtherIP / L2TPv3 客户端设备</span><br><span class="line"> EtherIpClientDelete        - 删除一个 EtherIP / L2TPv3 over<span class="built_in"> IPsec </span>客户端设置</span><br><span class="line"> EtherIpClientList          - 获得当前 EtherIP / L2TPv3 客户端设备条目定义列表</span><br><span class="line"> ExtOptionList              - 获取虚拟 HUB 扩展选项列表</span><br><span class="line"> ExtOptionSet               - 设置虚拟 HUB 扩展选项的值</span><br><span class="line"> Flush                      - 保存 VPN<span class="built_in"> Server </span>/<span class="built_in"> Bridge </span>全部不稳定数据到配置文件。</span><br><span class="line"> GroupCreate                - 创建组</span><br><span class="line"> GroupDelete                - 删除组</span><br><span class="line"> GroupGet                   - 获得组信息和所属用户列表</span><br><span class="line"> GroupJoin                  - 用户添加到组</span><br><span class="line"> GroupList                  - 获取组列表</span><br><span class="line"> GroupPolicyRemove          - 删除组的安全策略</span><br><span class="line"> GroupPolicySet             - 设置组的安全策略</span><br><span class="line"> GroupSet                   - 设置组信息</span><br><span class="line"> GroupUnjoin                - 从组内删除用户</span><br><span class="line"> Hub                        - 选择拟管理的虚拟 HUB</span><br><span class="line"> HubCreate                  - 创建新的虚拟 HUB</span><br><span class="line"> HubCreateDynamic           - 创建一个新的动态虚拟 HUB (集群)</span><br><span class="line"> HubCreateStatic            - 新创建一个静态虚拟 HUB (集群用)</span><br><span class="line"> HubDelete                  - 删除虚拟 HUB</span><br><span class="line"> HubList                    - 获取一个虚拟 HUB 列表</span><br><span class="line"> HubSetDynamic              - 将虚拟 HUB 的类型变为动态虚拟型</span><br><span class="line"> HubSetStatic               - 将虚拟 HUB 的类型变为静态虚拟型</span><br><span class="line"> IPsecEnable                - 启用或禁用<span class="built_in"> IPsec </span>VPN<span class="built_in"> Server </span>功能</span><br><span class="line"> IPsecGet                   - 获得当前IPsec VPN<span class="built_in"> Server </span>设置</span><br><span class="line"> IpDelete                   - 删除<span class="built_in"> IP </span>地址表项</span><br><span class="line"> IpTable                    - 获取<span class="built_in"> IP </span>地址表数据库</span><br><span class="line"> KeepDisable                - 禁用保持互联网连接功能</span><br><span class="line"> KeepEnable                 - 启动 Internet 保持连接功能</span><br><span class="line"> KeepGet                    - 获取保持互联网连接的功能</span><br><span class="line"> KeepSet                    - 设置 Internet 保持连接功能</span><br><span class="line"> LicenseAdd                 - 注册新的许可证密钥</span><br><span class="line"> LicenseDel                 - 删除已注册许可</span><br><span class="line"> LicenseList                - 获得已注册许可证的列表</span><br><span class="line"> LicenseStatus              - 获取目前的 VPN<span class="built_in"> Server </span>状态</span><br><span class="line"> ListenerCreate             - 创建新的 TCP 监听器</span><br><span class="line"> ListenerDelete             - 删除 TCP 监听器</span><br><span class="line"> ListenerDisable            - 停止 TCP 监听器运行</span><br><span class="line"> ListenerEnable             - 开始 TCP 监听器运行</span><br><span class="line"> ListenerList               - 获取 TCP 监听器列表</span><br><span class="line"> LogDisable                 - 禁用安全日志或数据包日志</span><br><span class="line"> LogEnable                  - 启用安全日志或数据包日志</span><br><span class="line"> LogFileGet                 - 日志文件下载</span><br><span class="line"> LogFileList                - 获取日志文件列表</span><br><span class="line"> LogGet                     - 获取虚拟 HUB 日志的保存设定</span><br><span class="line"> LogPacketSaveType          - 设置保存为数据包日志文件的数据包种类及保存。</span><br><span class="line"> LogSwitchSet               - 设定替换日志文件的周期</span><br><span class="line"> MacDelete                  - 删除 MAC 地址表项</span><br><span class="line"> MacTable                   - 获取 MAC 地址表数据库</span><br><span class="line"> MakeCert                   - 创建新的 X.509 证书和密钥 (1024 位)</span><br><span class="line"> MakeCert2048               - 创建新的 X.509 证书和密钥 (2048 位)</span><br><span class="line"> NatDisable                 - 禁用安全网络功能的虚拟<span class="built_in"> NAT </span>功能</span><br><span class="line"> NatEnable                  - 启用安全网络功能的虚拟<span class="built_in"> NAT </span>功能</span><br><span class="line"> NatGet                     - 获得安全网络功能的虚拟<span class="built_in"> NAT </span>功能的设置</span><br><span class="line"> NatSet                     - 更改安全网络功能的虚拟<span class="built_in"> NAT </span>功能的设置</span><br><span class="line"> NatTable                   - 获得安全网络功能的虚拟<span class="built_in"> NAT </span>功能会话表</span><br><span class="line"> Offline                    - 虚拟 HUB 脱机</span><br><span class="line"> Online                     - 虚拟 HUB 的联机</span><br><span class="line"> OpenVpnEnable              - 启用/禁用 OpenVPN 克隆服务器功能</span><br><span class="line"> OpenVpnGet                 - 获取 OpenVPN 克隆服务器功能的当前设置</span><br><span class="line"> OpenVpnMakeConfig          - 生成 OpenVPN<span class="built_in"> Client </span>样本设置文件</span><br><span class="line"> OptionsGet                 - 获得虚拟 HUB 的设置选项</span><br><span class="line"> PolicyList                 - 查看安全协议和可以设置的值得列表</span><br><span class="line"> RadiusServerDelete         - 删除应用于用户认证的<span class="built_in"> RADIUS </span>服务器设置</span><br><span class="line"> RadiusServerGet            - 获取用于用户认证的<span class="built_in"> RADIUS </span>服务器设置</span><br><span class="line"> RadiusServerSet            - 使用在用户认证中使用的<span class="built_in"> RADIUS </span>服务器设置</span><br><span class="line"> Reboot                     - VPN<span class="built_in"> Server </span>服务重新启动</span><br><span class="line"> RouterAdd                  - 定义一个新的虚拟 3 层交换机</span><br><span class="line"> RouterDelete               - 删除虚拟 3 层交换机</span><br><span class="line"> RouterIfAdd                - 在虚拟 3 层交换机上添加一个虚拟远程接口</span><br><span class="line"> RouterIfDel                - 删除虚拟 3 层交换机的虚拟远程接口</span><br><span class="line"> RouterIfList               - 获取在虚拟 3 层交换机中注册的远程接口的清单</span><br><span class="line"> RouterList                 - 获取虚拟 3 层交换机列表</span><br><span class="line"> RouterStart                - 开始运行虚拟 3 层交换机</span><br><span class="line"> RouterStop                 - 停止虚拟 3 层交换机的运行</span><br><span class="line"> RouterTableAdd             - 添加一个路由表项到虚拟 3 层交换机</span><br><span class="line"> RouterTableDel             - 删除虚拟 3 层交换机的路由表项</span><br><span class="line"> RouterTableList            - 获取虚拟 3 层交换机的路由列表</span><br><span class="line"> SecureNatDisable           - 禁用虚拟<span class="built_in"> NAT </span>和 DHCP 服务器功能 (安全网络功能)</span><br><span class="line"> SecureNatEnable            - 启用虚拟<span class="built_in"> NAT </span>和 DHCP 服务器功能 (安全网络功能)</span><br><span class="line"> SecureNatHostGet           - 获取安全网络功能的虚拟主机的网络接口设置</span><br><span class="line"> SecureNatHostSet           - 更改安全网络功能的虚拟主机的网络接口设置</span><br><span class="line"> SecureNatStatusGet         - 获取虚拟<span class="built_in"> NAT </span>和 DHCP 服务器功能 (安全网络功能) 的工作状态</span><br><span class="line"> ServerCertGet              - 获得 VPN<span class="built_in"> Server </span>的 SSL 证书</span><br><span class="line"> ServerCertRegenerate       - 生成一个新的带有指定 CN (Common Name) 的自签名证书，并且在 VPN<span class="built_in"> Server </span>上注册。</span><br><span class="line"> ServerCertSet              - VPN<span class="built_in"> Server </span>的 SSL 证书和密钥的设置</span><br><span class="line"> ServerCipherGet            - 获取 VPN 通信中使用的加密程序</span><br><span class="line"> ServerCipherSet            - 设置 VPN 通讯中使用的加密程序，</span><br><span class="line"> ServerInfoGet              - 获取服务器信息</span><br><span class="line"> ServerKeyGet               - 获取 VPN<span class="built_in"> Server </span>SSL 证书的密钥</span><br><span class="line"> ServerPasswordSet          - 设置 VPN<span class="built_in"> Server </span>管理员密码</span><br><span class="line"> ServerStatusGet            - 获取当前服务器状态</span><br><span class="line"> SessionDisconnect          - 断开会话</span><br><span class="line"> SessionGet                 - 获取会话信息</span><br><span class="line"> SessionList                - 获取连接会话的列表</span><br><span class="line"> SetEnumAllow               - 设定虚拟 HUB 允许向匿名用户显示。</span><br><span class="line"> SetEnumDeny                - 设定虚拟 HUB 禁止向匿名用户显示。</span><br><span class="line"> SetHubPassword             - 设置虚拟 HUB 的管理密码</span><br><span class="line"> SetMaxSession              - 设定虚拟 HUB 的最大同时在线用户数量</span><br><span class="line"> SstpEnable                 - 启用/禁用 Microsoft SSTP VPN 克隆服务器功能</span><br><span class="line"> SstpGet                    - 获得 Microsoft SSTP VPN 克隆服务器功能的当前设置</span><br><span class="line"> StatusGet                  - 获取虚拟 HUB 的当前状况</span><br><span class="line"> SyslogDisable              - 禁用发送系统日志的功能</span><br><span class="line"> SyslogEnable               - 设置发送系统日志功能</span><br><span class="line"> SyslogGet                  - 取得发送系统日志的功能</span><br><span class="line"> TrafficClient              - 在用户模式下，运行网络流量速度测试工具</span><br><span class="line"> TrafficServer              - 在服务器模式下，运行网络流量速度测试工具</span><br><span class="line"> UserAnonymousSet           - 将用户身份验证方法设置为匿名验证</span><br><span class="line"> UserCertGet                - 获取注册固有证书认证用户的证书</span><br><span class="line"> UserCertSet                - 将用户身份验证方法设置为固有证书验证，并设定证书</span><br><span class="line"> UserCreate                 - 创建用户</span><br><span class="line"> UserDelete                 - 删除用户</span><br><span class="line"> UserExpiresSet             - 设置用户的有效期限</span><br><span class="line"> UserGet                    - 获取用户信息</span><br><span class="line"> UserList                   - 获取用户列表</span><br><span class="line"> UserNTLMSet                - 用户身份验证方法设置为 NT 域认证</span><br><span class="line"> UserPasswordSet            - 将用户身份验证方法设置为密码验证，并设定密码</span><br><span class="line"> UserPolicyRemove           - 删除用户的安全策略</span><br><span class="line"> UserPolicySet              - 设置用户的安全策略</span><br><span class="line"> UserRadiusSet              - 将用户的认证方法设定为半径认证</span><br><span class="line"> UserSet                    - 更改用户信息</span><br><span class="line"> UserSignedSet              - 将用户身份验证方法设置为已签名证明书认证</span><br><span class="line"> VpnAzureGetStatus          - 显示 VPN Azure 功能的当前状态</span><br><span class="line"> VpnAzureSetEnable          - 启用/禁用 VPN Azure 功能</span><br><span class="line"> VpnOverIcmpDnsEnable       - 启用/禁用 VPN over ICMP / VPN over DNS服务器功能</span><br><span class="line"> VpnOverIcmpDnsGet          - 获取 VPN over ICMP / VPN over<span class="built_in"> DNS </span>功能的当前设置</span><br></pre></td></tr></table></figure></div><div class="article-licensing box"><div class="licensing-title"><p>SoftEther使用命令行搭建VPN服务器</p><p><a href="https://blog.yhan219.com/soft-ether-vpn/">https://blog.yhan219.com/soft-ether-vpn/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>yhan219</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-01-22</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-01-22</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags"><i class="fa fa-tag"> </i><a class="link-muted mr-2" rel="tag" href="/tags/VPN/">VPN</a><a class="link-muted mr-2" rel="tag" href="/tags/vpncmd/">vpncmd</a><a class="link-muted mr-2" rel="tag" href="/tags/vps/">vps</a><a class="link-muted mr-2" rel="tag" href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/">命令行</a></div></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://raw.githubusercontent.com/yhan219/blog-image/master/yhan/UMqd62.png" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://raw.githubusercontent.com/yhan219/blog-image/master/yhan/RpRzj9.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/alpine-time-zone/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Alpine镜像中时区的设置</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/shell-13-question/"><span class="level-item">shell十三问</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "3ca07d48ff9b9997e6f2697595872264",
            repo: "blog-comment",
            owner: "yhan219",
            clientID: "eec4eb02a961237a2e21",
            clientSecret: "542a7e0444b88ea8c3f6aebe0d5d22780dfdd147",
            admin: ["yhan219"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: "last",
            
            
            enableHotKey: true,
            language: "zh-CN",
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://coding-net-production-static-ci.codehub.cn/a79d1f0e-bb39-4be8-afc5-99302615f944.jpg?imageMogr2/auto-orient/format/jpeg/cut/800x800x0x0" alt="yhan219"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">yhan219</p><p class="is-size-6 is-block">java web</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>云南, 中国</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">45</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">60</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/yhan219" target="_blank" rel="noopener">关注我</a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#下载与安装"><span class="level-left"><span class="level-item">1</span><span class="level-item">下载与安装</span></span></a></li><li><a class="level is-mobile" href="#运行"><span class="level-left"><span class="level-item">2</span><span class="level-item">运行</span></span></a></li><li><a class="level is-mobile" href="#配置"><span class="level-left"><span class="level-item">3</span><span class="level-item">配置</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#进入命令行配置界面"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">进入命令行配置界面</span></span></a></li><li><a class="level is-mobile" href="#设置管理服务端登录密码"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">设置管理服务端登录密码</span></span></a></li><li><a class="level is-mobile" href="#创建hub"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">创建hub</span></span></a></li><li><a class="level is-mobile" href="#选择hub"><span class="level-left"><span class="level-item">3.4</span><span class="level-item">选择hub</span></span></a></li><li><a class="level is-mobile" href="#创建用户"><span class="level-left"><span class="level-item">3.5</span><span class="level-item">创建用户</span></span></a></li><li><a class="level is-mobile" href="#设置用户密码"><span class="level-left"><span class="level-item">3.6</span><span class="level-item">设置用户密码</span></span></a></li><li><a class="level is-mobile" href="#启用L2TP服务器功能"><span class="level-left"><span class="level-item">3.7</span><span class="level-item">启用L2TP服务器功能</span></span></a></li><li><a class="level is-mobile" href="#启用虚拟-NAT-和-DHCP-服务器功能-安全网络功能，可选，不建议开启"><span class="level-left"><span class="level-item">3.8</span><span class="level-item">启用虚拟 NAT 和 DHCP 服务器功能 (安全网络功能，可选，不建议开启)</span></span></a></li><li><a class="level is-mobile" href="#启动安全网络功能的虚拟-DHCP-服务器功能"><span class="level-left"><span class="level-item">3.9</span><span class="level-item">启动安全网络功能的虚拟 DHCP 服务器功能</span></span></a></li><li><a class="level is-mobile" href="#删除无用TCP监听端口"><span class="level-left"><span class="level-item">3.10</span><span class="level-item">删除无用TCP监听端口</span></span></a></li><li><a class="level is-mobile" href="#删除默认hub（可选）"><span class="level-left"><span class="level-item">3.11</span><span class="level-item">删除默认hub（可选）</span></span></a></li><li><a class="level is-mobile" href="#修改网段（可选）"><span class="level-left"><span class="level-item">3.12</span><span class="level-item">修改网段（可选）</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#查看当前虚拟DHCP配置"><span class="level-left"><span class="level-item">3.12.1</span><span class="level-item">查看当前虚拟DHCP配置</span></span></a></li><li><a class="level is-mobile" href="#修改虚拟DHCP"><span class="level-left"><span class="level-item">3.12.2</span><span class="level-item">修改虚拟DHCP</span></span></a></li><li><a class="level is-mobile" href="#查看SecureNatHost配置"><span class="level-left"><span class="level-item">3.12.3</span><span class="level-item">查看SecureNatHost配置</span></span></a></li><li><a class="level is-mobile" href="#修改SecureNatHost"><span class="level-left"><span class="level-item">3.12.4</span><span class="level-item">修改SecureNatHost</span></span></a></li></ul></li><li><a class="level is-mobile" href="#保存配置"><span class="level-left"><span class="level-item">3.13</span><span class="level-item">保存配置</span></span></a></li><li><a class="level is-mobile" href="#重启服务"><span class="level-left"><span class="level-item">3.14</span><span class="level-item">重启服务</span></span></a></li><li><a class="level is-mobile" href="#开放外网端口"><span class="level-left"><span class="level-item">3.15</span><span class="level-item">开放外网端口</span></span></a></li></ul></li><li><a class="level is-mobile" href="#客户端连接"><span class="level-left"><span class="level-item">4</span><span class="level-item">客户端连接</span></span></a></li><li><a class="level is-mobile" href="#最后附上所有命令列表"><span class="level-left"><span class="level-item">5</span><span class="level-item">最后附上所有命令列表</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/"><span class="level-start"><span class="level-item">中间件</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%AD%A6%E4%B9%A0/"><span class="level-start"><span class="level-item">学习</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">工具</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-01-29T02:44:12.000Z">2023-01-29</time></p><p class="title"><a href="/nginx-log-split/">nginx日志分隔</a></p><p class="categories"><a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-12-02T03:44:12.000Z">2022-12-02</time></p><p class="title"><a href="/redis-queue/">把Redis当作队列来用，真的合适吗？</a></p><p class="categories"><a href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-11-02T09:46:46.000Z">2022-11-02</time></p><p class="title"><a href="/nginx-check/">nginx_upstream_check_module模块实现应用无感发布</a></p><p class="categories"><a href="/categories/%E4%B8%AD%E9%97%B4%E4%BB%B6/">中间件</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-16T09:56:41.000Z">2022-03-16</time></p><p class="title"><a href="/smart-doc-torna/">smart-doc+torna搭建企业级接口管理系统</a></p><p class="categories"><a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-15T01:59:21.000Z">2021-12-15</time></p><p class="title"><a href="/nginx-location/">一文理清nginx中的location配置</a></p><p class="categories"><a href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">一月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/12/"><span class="level-start"><span class="level-item">十二月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/11/"><span class="level-start"><span class="level-item">十一月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">十二月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">九月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">四月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">二月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">一月 2021</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/DateGrip/"><span class="tag">DateGrip</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Idea/"><span class="tag">Idea</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IntelliJ-IDEA/"><span class="tag">IntelliJ IDEA</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Jetbrains/"><span class="tag">Jetbrains</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Redis/"><span class="tag">Redis</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VPN/"><span class="tag">VPN</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/acme-sh/"><span class="tag">acme.sh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/alfred/"><span class="tag">alfred</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/alpine/"><span class="tag">alpine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/arthas/"><span class="tag">arthas</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bash/"><span class="tag">bash</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/centos/"><span class="tag">centos</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker-compose/"><span class="tag">docker compose</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gitea/"><span class="tag">gitea</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/http/"><span class="tag">http</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/https/"><span class="tag">https</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/idea/"><span class="tag">idea</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/navicat/"><span class="tag">navicat</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rabbitmq/"><span class="tag">rabbitmq</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/redis/"><span class="tag">redis</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sdkman/"><span class="tag">sdkman</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/seaweedfs/"><span class="tag">seaweedfs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/shell/"><span class="tag">shell</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/show-hosts/"><span class="tag">show hosts</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/spring-boot/"><span class="tag">spring boot</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/systemctl/"><span class="tag">systemctl</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/systemd/"><span class="tag">systemd</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vpncmd/"><span class="tag">vpncmd</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vps/"><span class="tag">vps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/windows/"><span class="tag">windows</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/workflow/"><span class="tag">workflow</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/xxl-job/"><span class="tag">xxl-job</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/zookeeper/"><span class="tag">zookeeper</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/"><span class="tag">中间件</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%91%E7%9B%98/"><span class="tag">云盘</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%85%8D%E8%B4%B9%E8%AF%81%E4%B9%A6/"><span class="tag">免费证书</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"><span class="tag">内网穿透</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"><span class="tag">分布式</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/"><span class="tag">分布式锁</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%91%BD%E4%BB%A4/"><span class="tag">命令</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/"><span class="tag">命令行</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B0%8F%E6%96%87%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8/"><span class="tag">小文件服务器</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="tag">数据库</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%A5%E5%BF%97/"><span class="tag">日志</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%B6%E5%8C%BA/"><span class="tag">时区</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%97%B6%E9%97%B4/"><span class="tag">时间</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"><span class="tag">服务器</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/"><span class="tag">消息队列</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%BF%80%E6%B4%BB/"><span class="tag">激活</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%B4%A2%E5%BC%95/"><span class="tag">索引</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BC%93%E5%AD%98/"><span class="tag">缓存</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BF%90%E7%BB%B4/"><span class="tag">运维</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%94%81/"><span class="tag">锁</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/"><span class="tag">问题排查</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://coding-net-production-static-ci.codehub.cn/a79d1f0e-bb39-4be8-afc5-99302615f944.jpg?imageMogr2/auto-orient/format/jpeg/cut/800x800x0x0" alt="yhan219" height="28"></a><p class="is-size-7"><span>&copy; 2018 - 2023 yhan219</span>  版权所有<br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>